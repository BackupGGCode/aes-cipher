/******************************************************************************/
/*  Lib Hex                                                                   */
/*  PO: S. Maslyakov, rusoil.9@gmail.com                                      */
/*                                                                            */
/*  Revision:     1.1                                                         */
/*  Date:         2011/01/09 15:10:33                                         */
/******************************************************************************/


#include "stdafx.h"


//==============================================================================
// App: Convert int8 to hex
//==============================================================================
uint32_t BinToHex(const uint8_t _bin, uint8_t * const _pDst)
{
    uint8_t Nibble;

    Nibble = (_bin >> 4);
    _pDst[0] = (Nibble > 9) ? (Nibble + 0x37) : (Nibble + 0x30);

    Nibble = _bin & 0x0F;
    _pDst[1] = (Nibble > 9) ? (Nibble + 0x37) : (Nibble + 0x30);

    return 2;
}
//==============================================================================
//==============================================================================


//==============================================================================
// App: Convert int16 to hex
//==============================================================================
uint32_t BinToHex(const uint16_t _bin, uint8_t * const _pDst)
{
    for (uint32_t i = 0; i < 4; i++) {
        uint8_t Nibble = (_bin >> (12 - 4*i))&0x0F;
        _pDst[i] = (Nibble > 9) ? (Nibble + 0x37) : (Nibble + 0x30);
    };

    return 4;
}
//==============================================================================
//==============================================================================


//==============================================================================
// App: Convert int32 to hex
//==============================================================================
uint32_t BinToHex(const uint32_t _bin, uint8_t * const _pDst)
{
    for (uint32_t i = 0; i < 8; i++) {
        uint8_t Nibble = (_bin >> (28 - 4*i))&0x0F;
        _pDst[i] = (Nibble > 9) ? (Nibble + 0x37) : (Nibble + 0x30);
    };

    return 8;
}
//==============================================================================
//==============================================================================


//==============================================================================
// App: Convert hex to bin
//==============================================================================
uint8_t HexToBin(const int8_t * _pHex)
{
    uint8_t bin;

    bin = (_pHex[0] > 0x39) ? (_pHex[0] - 0x37) : (_pHex[0] - 0x30);
    bin <<= 4;
    bin |= (_pHex[1] > 0x39) ? (_pHex[1] - 0x37) : (_pHex[1] - 0x30);

    return bin;
}
//==============================================================================
//==============================================================================